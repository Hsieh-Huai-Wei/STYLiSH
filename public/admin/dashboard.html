<!DOCTYPE html>
<html>

<head>
  <title>Dashboard</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <link rel="stylesheet" type="text/css" href="./css/dashboard.css" media="all" />
</head>

<body>
  <div id="count" class="info_block">
    <div id="number"></div>
  </div>
  <div id="pie" class="info_block"></div>
  <div id="histogram" class="info_block"></div>
  <div id="bar" class="info_block"></div>
</body>
<script src="./js/dashboard.js"></script>
<script>
  function main() {

    return fetch(`/api/1.0/dashboard`)
      .then((response) => response.json())
      .then(function (data) {
        dashboard = new Dashboard(
          {
          "totalRevenue":data.totalRevenus, "productsDivideByColor": data.productsDivideByColor, "productsInPriceRange": data.productsInPriceRange, "top5ProductsDividedBySize": data.top5ProductsDividedBySize
          }
        )
        dashboard.onlineUserCount();
        dashboard.drawProductsDivideByColor();
        dashboard.drawProductsInPriceRange();
        dashboard.drawTop5ProductsDividedBySize();     
      })
      .catch(function (error) {
        console.log(error);
      });
  }
  main();
</script>

</html>